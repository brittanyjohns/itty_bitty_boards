<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Welcome to MySpeak+</title>
  <meta name="color-scheme" content="light only">
  <style>
    body { background:#f7f9fc; font-family: Arial, sans-serif; margin:0; padding:20px; color:#333; }
    .container { background:#fff; max-width:620px; margin:auto; padding:30px; border-radius:12px; box-shadow:0 6px 18px rgba(0,0,0,0.08); }
    .logo img { max-width:120px; display:block; margin:0 auto 20px; }

    .badge { display:inline-block; padding:6px 10px; border-radius:999px; background:#eaf9fc; color:#2abed1; font-size:12px; font-weight:700; text-transform:uppercase; margin:0 auto 8px; }
    h1 { font-size:26px; color:#2a2a2a; text-align:center; margin:8px 0 6px; }
    .sub { font-size:16px; color:#555; text-align:center; margin:0 0 22px; }

    .button { display:inline-block; padding:14px 28px; background:#7645ef; color:#fff !important; text-decoration:none; border-radius:8px; font-weight:700; font-size:16px; }
    .btn-row { text-align:center; margin:16px 0 6px; }
    .subtext { font-size:12px; color:#6b6b6b; text-align:center; margin-top:8px; }

    .section { margin:28px 0; }
    .section h2 { font-size:18px; color:#2a2a2a; margin:0 0 10px; }
    ul.check { list-style:none; padding:0; margin:0; }
    ul.check li { margin:10px 0; font-size:15px; color:#555; line-height:1.5; }
    ul.check li::before { content:"âœ”"; color:#2abed1; font-weight:700; margin-right:8px; }

    .quickstart { background:#f8ffef; border:1px solid #d7f0b2; border-radius:10px; padding:16px; }
    .quickstart ol { margin:8px 0 0 18px; padding:0; color:#3f3f3f; }
    .quickstart li { margin:8px 0; font-size:15px; line-height:1.5; }
    .tip { font-size:13px; color:#666; margin-top:10px; }

    .upgrade-box { background:#f3edff; border:1px solid #d6c8ff; border-radius:10px; padding:20px; margin:25px 0 10px; text-align:center; }
    .upgrade-box h3 { margin:0 0 8px; color:#7645ef; font-size:18px; }
    .upgrade-box p { font-size:14px; color:#444; line-height:1.5; margin:10px 0; }

    .footer { margin-top:28px; font-size:13px; text-align:center; color:#777; }
    .footer a { color:#7645ef; text-decoration:none; }

    @media (max-width:480px) {
      .container { padding:22px; }
      h1 { font-size:24px; }
    }
  </style>
</head>
<body>
  <%# --- Dynamic pricing / limits (safe defaults) --- %>
  <% myspeak_price = (@myspeak_price || "$3/month") %>
  <% basic_price   = (@basic_price   || "$8/month") %>
  <% basic_supporter_limit = (@basic_supporter_limit || 2) %>

  <!-- Preheader -->
  <div style="display:none;max-height:0;overflow:hidden;opacity:0;">
    MySpeak+ is live â€” add safety info, share your QR page, and print a PDF with your QR code for on-the-go access.
  </div>

  <div class="container">
    <!-- MySpeak Logo -->
    <a href="https://www.speakanyway.com/myspeak-info" target="_blank" rel="noopener" class="logo">
      <%= image_tag @myspeak_logo.url, alt: "MySpeak Logo" %>
    </a>

    <div style="text-align:center;">
      <div class="badge">MySpeak+</div>
    </div>

    <h1>Welcome to MySpeak+</h1>
    <p class="sub">You're all set â€” let's make essential info accessible anywhere, instantly.</p>

    <p style="font-size:16px; line-height:1.6;">
      Hi <%= @user.name.blank? ? "there" : @user.name %>,<br>
      Thanks for activating <strong>MySpeak+</strong>! Your MySpeak profile is a scannable, shareable page that helps
      caregivers, teachers, and first responders get the right info <em>fast</em> â€” without needing to sign in.
    </p>

    <div class="btn-row">
      <a href="<%= @login_link %>" class="button">Open MySpeak+</a>
    </div>
    <p class="subtext">If the button doesn't work, copy this link:<br>
      <span style="word-break:break-all;"><%= @login_link %></span>
    </p>

    <div class="section">
      <h2>What you get with MySpeak+</h2>
      <ul class="check">
        <li><strong>Safety info</strong> in your MySpeak profile â€” emergency contacts + key medical notes.</li>
        <li><strong>Your own QR page</strong> â€” scan to view essential info instantly (no login needed).</li>
        <li><strong>PDF export with QR code</strong> â€” print for backpacks, wallets, binders, or lanyards.</li>
        <li><strong>Shareable link</strong> â€” send to trusted caregivers, teachers, and family.</li>
      </ul>
    </div>

    <div class="section quickstart">
      <h2 style="margin:0 0 6px 0;">Quick start (2 minutes)</h2>
      <ol>
        <li>Open MySpeak+ and add your <strong>emergency contacts</strong> + important info.</li>
        <li>Attach a helpful board (ex: <strong>needs</strong>, <strong>medical</strong>, <strong>calm down</strong>, <strong>home routine</strong>).</li>
        <li>Print your <strong>PDF + QR</strong> or save the QR image for quick access.</li>
      </ol>
      <p class="tip">
        Pro tip: Save your QR image as your phone lock screen so helpers can scan without unlocking.
      </p>
    </div>

    <div class="section">
      <h2>Want to build boards + collaborate?</h2>

      <!-- BEGIN: Gmail-safe comparison table -->
      <table role="presentation" width="100%" cellpadding="0" cellspacing="0" border="0"
        style="border:1px solid #e9e9e9;border-radius:12px;overflow:hidden;border-collapse:collapse;">
        <tr>
          <td align="center" valign="middle" width="42%"
            style="background:#f7f9fc;font-weight:700;color:#333;padding:12px 10px;font-size:14px;border-right:1px solid #e9e9e9;">
            Feature
          </td>
          <td align="center" valign="middle" width="29%"
            style="background:#f7f9fc;font-weight:700;color:#333;padding:12px 10px;font-size:14px;border-right:1px solid #e9e9e9;">
            MySpeak+
          </td>
          <td align="center" valign="middle" width="29%"
            style="background:#f7f9fc;font-weight:700;color:#333;padding:12px 10px;font-size:14px;">
            Basic
          </td>
        </tr>

        <tr>
          <td style="padding:12px 14px;font-size:14px;line-height:1.4;border-top:1px solid #e9e9e9;border-right:1px solid #e9e9e9;">
            MySpeak profile (public access)
          </td>
          <td align="center" style="padding:12px 14px;font-size:16px;border-top:1px solid #e9e9e9;border-right:1px solid #e9e9e9;color:#2abed1;font-weight:700;">âœ”</td>
          <td align="center" style="padding:12px 14px;font-size:16px;border-top:1px solid #e9e9e9;color:#2abed1;font-weight:700;">âœ”</td>
        </tr>

        <tr>
          <td style="padding:12px 14px;font-size:14px;line-height:1.4;border-top:1px solid #e9e9e9;border-right:1px solid #e9e9e9;">
            Safety info + QR page + PDF export
          </td>
          <td align="center" style="padding:12px 14px;font-size:16px;border-top:1px solid #e9e9e9;border-right:1px solid #e9e9e9;color:#2abed1;font-weight:700;">âœ”</td>
          <td align="center" style="padding:12px 14px;font-size:16px;border-top:1px solid #e9e9e9;color:#2abed1;font-weight:700;">âœ”</td>
        </tr>

        <tr>
          <td style="padding:12px 14px;font-size:14px;line-height:1.4;border-top:1px solid #e9e9e9;border-right:1px solid #e9e9e9;">
            Communicator login (username + passcode)
          </td>
          <td align="center" style="padding:12px 14px;font-size:16px;border-top:1px solid #e9e9e9;border-right:1px solid #e9e9e9;color:#bbb;">â€”</td>
          <td align="center" style="padding:12px 14px;font-size:16px;border-top:1px solid #e9e9e9;color:#2abed1;font-weight:700;">âœ”</td>
        </tr>

        <tr>
          <td style="padding:12px 14px;font-size:14px;line-height:1.4;border-top:1px solid #e9e9e9;border-right:1px solid #e9e9e9;">
            Create custom boards
          </td>
          <td align="center" style="padding:12px 14px;font-size:14px;border-top:1px solid #e9e9e9;border-right:1px solid #e9e9e9;color:#bbb;">â€”</td>
          <td align="center" style="padding:12px 14px;font-size:14px;border-top:1px solid #e9e9e9;color:#333;">Included</td>
        </tr>

        <tr>
          <td style="padding:12px 14px;font-size:14px;line-height:1.4;border-top:1px solid #e9e9e9;border-right:1px solid #e9e9e9;">
            AI features
          </td>
          <td align="center" style="padding:12px 14px;font-size:14px;border-top:1px solid #e9e9e9;border-right:1px solid #e9e9e9;color:#bbb;">â€”</td>
          <td align="center" style="padding:12px 14px;font-size:14px;border-top:1px solid #e9e9e9;color:#333;">Included</td>
        </tr>

        <tr>
          <td style="padding:12px 14px;font-size:14px;line-height:1.4;border-top:1px solid #e9e9e9;border-right:1px solid #e9e9e9;">
            Supporter accounts (read-only)
          </td>
          <td align="center" style="padding:12px 14px;font-size:14px;border-top:1px solid #e9e9e9;border-right:1px solid #e9e9e9;color:#bbb;">â€”</td>
          <td align="center" style="padding:12px 14px;font-size:14px;border-top:1px solid #e9e9e9;color:#333;">
            <%= basic_supporter_limit %> included
          </td>
        </tr>
      </table>
      <!-- END: Gmail-safe comparison table -->

      <div class="upgrade-box">
        <h3>Upgrade to Basic (optional) ðŸš€</h3>
        <p>
          MySpeak+ is focused on fast-access info and QR sharing.
          Basic adds board creation, AI features, and Supporters for collaboration.
        </p>
        <p>
          <a href="https://www.speakanyway.com/pricing" class="button">See Plans</a>
        </p>
        <p style="font-size:12px;color:#666;margin-top:8px;">
          Current pricing: MySpeak+ <strong><%= myspeak_price %></strong> â€¢ Basic <strong><%= basic_price %></strong>
        </p>
      </div>
    </div>

    <p style="font-size:14px; line-height:1.6; text-align:center;">
      Need help? Just reply to this email or contact us at
      <a href="mailto:help@speakanyway.com">help@speakanyway.com</a>.<br> We've got your back ðŸ’œ
    </p>

    <!-- Brand footer -->
    <a href="https://app.speakanyway.com" target="_blank" rel="noopener" class="logo" style="margin-top:16px;">
      <%= image_tag @logo.url, alt: "SpeakAnyWay Logo" %>
    </a>

    <div class="footer">
      You're receiving this because you activated MySpeak+.<br>
      Manage or cancel anytime in your account settings.
    </div>
  </div>
</body>
</html>
