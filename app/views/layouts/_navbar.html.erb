<nav class="bg-stone-800 shadow-lg" data-controller="navbar">
   <div class="flex items-center justify-between px-4 py-3 md:py-4 md:px-6">
    <div>
      <% if user_signed_in? %>
      <%= link_to boards_path, class: "text-white font-bold text-2xl" do %>
        <span class="text-lg">Itty</span><span class="text-xl">Bitty</span>Boards
      <% end %>
      <% else %>
      <%= link_to root_path, class: "text-white font-bold text-2xl" do %>
        <span class="text-lg">Itty</span><span class="text-xl">Bitty</span>Boards
      <% end %>
      <% end %>
      <%= link_to "Demos", demo_path, class: "text-blue-200 hover:text-white px-3 py-2 rounded-md text-sm font-medium ml-5" %>
    </div>
    <div class="hidden md:flex items-center space-x-4 ml-4 md:ml-10">
      <% if user_signed_in? %> 
      <%= link_to shopping_cart_nav, carts_show_path, class: "text-blue-200 hover:text-white px-3 py-2 rounded-md text-sm font-medium" %>
      <%= link_to coins_nav, products_path, class: "text-blue-200 hover:text-white px-3 py-2 rounded-md text-sm font-medium" %>

      <span class="text-blue-200 hover:text-white px-3 py-2 rounded-md text-xs font-light">Signed in as <%= link_to current_user.email, current_user, class: "text-blue-200 hover:text-white px-3 py-2 rounded-md text-xs font-light" %></span>
      <div class="relative">
        <div class="badge bg-blue-500 text-white rounded-full p-1 text-xs">
          <%= current_user.tokens %>
        </div>
        <div class="tooltip absolute opacity-25 bg-blue-600 text-white text-xs rounded p-1">
            You have <%= current_user.tokens %> tokens
        </div>
      </div>
      
        <%= link_to "Menus", menus_path, class: "text-blue-200 hover:text-white px-3 py-2 rounded-md text-sm font-medium" %>
        <%= link_to "Boards", boards_path, class: "text-blue-200 hover:text-white px-3 py-2 rounded-md text-sm font-medium" %>
        <%= link_to "Users", users_path, class: "text-blue-200 hover:text-white px-3 py-2 rounded-md text-sm font-medium" if current_user.admin? %>
        <%= link_to "New Image", new_image_path, class: "text-blue-200 hover:text-white px-3 py-2 rounded-md text-sm font-medium" %>
        <%= link_to "Image Library", images_path, class: "text-blue-200 hover:text-white px-3 py-2 rounded-md text-sm font-medium" %>
        <%= button_to "Logout", destroy_user_session_path, method: :delete, class: "text-blue-200 hover:text-white px-3 py-2 rounded-md text-sm font-medium", form_class: "inline-block" %>
      <% else %>
        <%= link_to "Sign up", new_user_registration_path, class: "text-blue-200 hover:text-white px-3 py-2 rounded-md text-sm font-medium" %>
        <%= link_to "Login", new_user_session_path, class: "text-blue-200 hover:text-white px-3 py-2 rounded-md text-sm font-medium" %>
      <% end %>
    </div>
    <button id="menu-btn" class="md:hidden" data-action="click->navbar#toggle">
      <svg class="h-6 w-6 text-blue-200 hover:text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
      </svg>
    </button>
  </div>
  <!-- Mobile menu -->
  <div id="menu" class="hidden" data-navbar-target="menu">

    <% if user_signed_in? %>
          <span class="text-blue-200 hover:text-white px-3 py-2 rounded-md text-xs font-light">Signed in as <%= link_to current_user.email, current_user, class: "text-blue-200 hover:text-white px-3 py-2 rounded-md text-xs font-light" %></span>
      <%= link_to "Boards", boards_path, class: "block px-4 py-2 text-sm text-blue-200 hover:bg-blue-700 hover:text-white" %>
      <%= link_to "Menus", menus_path, class: "block px-4 py-2 text-sm text-blue-200 hover:bg-blue-700 hover:text-white" %>
      <%= link_to "Images", images_path, class: "block px-4 py-2 text-sm text-blue-200 hover:bg-blue-700 hover:text-white" %>
      <%= button_to "Logout", destroy_user_session_path, method: :delete, class: "block px-4 py-2 text-sm text-blue-200 hover:bg-blue-700 hover:text-white", form_class: "inline-block" %>
    <% else %>
      <%= link_to "Sign up", new_user_registration_path, class: "block px-4 py-2 text-sm text-blue-200 hover:bg-blue-700 hover:text-white" %>
      <%= link_to "Login", new_user_session_path, class: "block px-4 py-2 text-sm text-blue-200 hover:bg-blue-700 hover:text-white" %>
    <% end %>
  </div>
</nav>
